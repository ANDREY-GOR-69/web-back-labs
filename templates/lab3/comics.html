{% extends "base.html" %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3{% endblock %}

{% block main %}
    <h1>–ö–æ–º–∏–∫—Å—ã DC - –ø–æ–∏—Å–∫ –ø–æ —Ü–µ–Ω–µ</h1>
    
    <form method="get" action="/lab3/comics">
        <div style="margin-bottom: 15px;">
            <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞:</label>
            <input type="number" name="min_price" value="{{ min_price or '' }}" 
                   placeholder="{{ min_price_all }}" min="0">
        </div>
        
        <div style="margin-bottom: 15px;">
            <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞:</label>
            <input type="number" name="max_price" value="{{ max_price or '' }}" 
                   placeholder="{{ max_price_all }}" min="0">
        </div>
        
        <div style="margin-bottom: 15px;">
            <button type="submit">–ò—Å–∫–∞—Ç—å</button>
            <button type="submit" name="reset" value="1">–°–±—Ä–æ—Å</button>
        </div>
    </form>
    
    {% if message %}
        <div style="margin: 15px 0; padding: 10px; background: #f0f0f0; border-radius: 5px;">
            {{ message }}
        </div>
    {% endif %}
    
    {% if comics %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
            {% for comic in comics %}
                <div style="border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: white;">
                    <h3 style="margin-top: 0; color: #0066cc;">{{ comic.title }}</h3>
                    <div><strong>–¶–µ–Ω–∞:</strong> {{ comic.price }} —Ä—É–±.</div>
                    <div><strong>–ì–æ–¥ –∏–∑–¥–∞–Ω–∏—è:</strong> {{ comic.year }}</div>
                    <div><strong>–ì–µ—Ä–æ–π:</strong> {{ comic.hero }}</div>
                </div>
            {% endfor %}
        </div>
    {% elif message and '–ù–µ –Ω–∞–π–¥–µ–Ω–æ' in message %}
        <div style="text-align: center; padding: 40px; color: #666;">
            <h3>üòî {{ message }}</h3>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω</p>
        </div>
    {% endif %}
    
    <div style="margin-top: 20px; font-size: 14px; color: #666;">
        <strong>–î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –≤ –∫–∞—Ç–∞–ª–æ–≥–µ:</strong> –æ—Ç {{ min_price_all }} –¥–æ {{ max_price_all }} —Ä—É–±–ª–µ–π
    </div>
{% endblock %}